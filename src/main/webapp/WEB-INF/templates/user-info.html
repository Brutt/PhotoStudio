<!DOCTYPE html>
<html th:lang="${language}" xmlns:th="http://www.w3.org/1999/xhtml">

<head>
    <meta th:replace="fragment/head.html :: meta">
    <link th:replace="fragment/head.html :: link">
    <link rel="stylesheet" type="text/css" th:href="@{/assets/css/add-user.css}">
    <title>Photo Studio</title>
</head>

<body th:with="roleUser=${user.userRole.getName()=='USER'}, roleAdmin=${user.userRole.getName()=='ADMIN'}">

<div th:if="${roleUser}">
    <nav th:replace="fragment/navigation.html :: nav"></nav>
    <hr class="header__underscore">
</div>
<div class="container">
        <!--	Bread Crumb-->
        <div th:if="${roleAdmin}" class="bread__crumb-navigation">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a class="breadcrumb__link" th:href="@{/admin}">Admin page</a></li>
                    <li class="breadcrumb-item"><a class="breadcrumb__link" th:href="@{/admin/users}">All users</a></li>
                    <li class="breadcrumb-item breadcrumb-item__active" aria-current="page">Manage user</li>
                </ol>
            </nav>
        </div>
        <!--Bread Crumb End-->

    <h1 class="page__title">Manage user</h1>

    <form class="login-form">
        <div class="new__user__form">
            <div class="user-login">
                <h3 class="user__title-login">Login</h3>

                <div class="login-form_between">
                    <input type="email" class="form-control  " name="email" id="email" placeholder="Email "
                           th:value="${user.email}">
                    <input type="text" class="form-control  " id="phoneNumber" placeholder="Phone"
                           th:value="${user.phoneNumber}">
                </div>
                <div class="new__user-info">
                    <input type="text" class="form-control " id="title" placeholder="Title"
                           th:value="${user.title}">
                    <input type="text" class="form-control" id="firstName" placeholder="First name"
                           th:value="${user.firstName}">
                    <input type="text" class="form-control " id="lastName" placeholder="Last name"
                           th:value="${user.lastName}">
                    <input type="text" class="form-control " id="country" placeholder="Country"
                           th:value="${user.country}">
                    <input type="text" class="form-control " id="city" placeholder="City" th:value="${user.city}">
                    <input type="text" class="form-control " id="address" placeholder="Address"
                           th:value="${user.address}">
                    <input type="text" class="form-control " id="zip" placeholder="ZIP code"
                           th:value="*{user.zip != 0}? *{user.zip} : ''">
                    <input type="text" class="form-control form-control_info" id="additionalInfo"
                           placeholder="Additional Information" th:value="${user.additionalInfo}">
                    <button class="btn btn__manage" th:onclick="'updateUser(\'' + ${user.getId()} + '\');'">Save
                    </button>
                </div>

                <div class="manage-buttons">
                    <a th:href="@{'/security/change-password'(userId=${user.id})}" class="btn btn__manage btn__manage--pink btn__manage--mb">Change password
                    </a>

                    <button type="button" class="btn btn__manage btn__manage--pink"
                            data-toggle="modal" data-target="#delete-user">Delete user
                    </button>
                </div>

            </div>
        </div>
    </form>
    <div class="modal fade" id="delete-user" tabindex="-1" role="dialog" aria-labelledby="delete-user-title"
         aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title dialog-title" id="delete-order-title">Confirm delete</h5>
                </div>
                <div class="modal-body">
                    <p class="dialog-body"
                       th:text="'Are you sure you want to delete user with id '+${user.id}+' ?'"></p>
                </div>
                <div class="modal-footer dialog-buttons">
                    <button class="btn btn-submit btn-outline-dark button dialog__button
                            delete-button" data-dismiss="modal">No
                    </button>
                    <button class="btn btn-submit btn-outline-dark button dialog__button
                            delete-button"
                            th:onclick="'deleteUser(\'' + ${user.getId()} + '\');'">Yes
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<meta th:replace="fragment/script.html :: script">
<script src="assets/js/user/user.js"></script>
</body>

</html>
